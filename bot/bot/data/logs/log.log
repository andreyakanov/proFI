2024-06-19T15:33:04.925173+0300, INFO, main.py, main, 18, on_startup, Bot on
2024-06-19T15:33:36.261458+0300, INFO, main.py, main, 27, on_shutdown, Bot off
2024-06-19T15:33:44.185097+0300, INFO, main.py, main, 18, on_startup, Bot on
2024-06-19T15:33:51.724008+0300, INFO, main.py, main, 27, on_shutdown, Bot off
2024-06-19T15:34:04.165829+0300, INFO, main.py, main, 18, on_startup, Bot on
2024-06-19T15:34:23.001861+0300, INFO, main.py, main, 27, on_shutdown, Bot off
2024-06-19T15:36:43.937264+0300, INFO, main.py, main, 15, on_startup, Bot on
2024-06-19T15:49:22.475689+0300, INFO, main.py, main, 24, on_shutdown, Bot off
2024-06-19T15:54:15.465290+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T15:54:17.418929+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:02:44.542719+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:02:49.971572+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:06:49.904320+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:06:51.012672+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:07:24.944375+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:07:31.951221+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:27:56.656793+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:28:05.353456+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (47515), thread 'MainThread' (4463840704):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 39, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x10ad725c0>
    │       └ <function run at 0x106e4dda0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x10ad7c640>
           │      └ <function Runner.run at 0x106f31e40>
           └ <asyncio.runners.Runner object at 0x106e22550>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x106edf920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x106e22550>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x106edf880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x106f316c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x106e1b2e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,)}
                     │    │           │    └ Update(update_id=746556931, message=Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UT...
                     │    │           └ <aiogram.client.bot.Bot object at 0x10ab8e250>
                     │    └ <function Dispatcher.feed_update at 0x109f399e0>
                     └ <Dispatcher '0x10ab96dd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x109f384a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10abaa010>
                     └ <Dispatcher '0x10ab96dd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556931, message=Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x10abaa810>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556931, message=Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x10abaa890>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556931, message=Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UT...
                 └ <function TelegramEventObserver.trigger at 0x10ac05800>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556931, message=Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UT...
                 └ <function CallableObject.call at 0x1080a4a40>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10ab96dd0'>>, Update(update_id=746556931, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x109f38fe0>
                 └ <Dispatcher '0x10ab96dd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x1080a4900>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x109f384a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10ab96d90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x109f39080>
                 └ <Dispatcher '0x10ab96dd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x109f38fe0>
                     └ <Router '0x10a155f10'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x1080a4ae0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x109f384a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x109f3d650>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x109f39080>
                 └ <Router '0x10a155f10'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x109f385e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x109f3d650>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ functools.partial(<bot.command.midleware.is_admin.IsAdmin object at 0x10ac3fad0>, <function CallableObject.call at 0x1080a4c20>)

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/midleware/is_admin.py", line 17, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ab96dd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ab8e250>,), 'bot': <aiogram.client....
                 │       └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ <function CallableObject.call at 0x1080a4c20>

> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_start at 0x10ac2f1a0>, Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, ...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/start.py", line 42, in cmd_start
    await message.answer(text, reply_markup=main_kb(message))
          │       │      │                  │       └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
          │       │      │                  └ <function main_kb at 0x109f3a480>
          │       │      └ '\nЗдравствуйте! 👋 Добро пожаловать в автосервис "Профи"!\n\nМы рады предложить вам широкий спектр услуг по обслуживанию и ре...
          │       └ <function Message.answer at 0x107ebe2a0>
          └ Message(message_id=12774, date=datetime.datetime(2024, 6, 19, 13, 28, 5, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...

  File "/Users/karabok/Documents/Python/botAndruha/bot/keyboards/reply.py", line 9, in main_kb
    kb.button(text=TEXT_KB['new_customer'])
    │  │           └ {'start': '🔁 Перезапуск', 'new_work': '🔧 Запись на прием', 'menu': '🏠 Главное меню'}
    │  └ <function ReplyKeyboardBuilder.button at 0x10a1760c0>
    └ <aiogram.utils.keyboard.ReplyKeyboardBuilder object at 0x10abf9710>

KeyError: 'new_customer'
2024-06-19T16:28:27.717342+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:28:36.000378+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:28:52.003313+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:29:00.975941+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:29:01.713916+0300, ERROR, start.py, start, 24, cmd_start, An error has been caught in function 'cmd_start', process 'MainProcess' (47714), thread 'MainThread' (4525211072):
Traceback (most recent call last):

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/clsregistry.py", line 515, in _resolve_name
    rval = d[token]
           │ └ 'Child'
           └ {}
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/util/_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
    │    │            │    │       └ 'Child'
    │    │            │    └ <bound method _class_resolver._access_cls of <sqlalchemy.orm.clsregistry._class_resolver object at 0x10855b0a0>>
    │    │            └ {}
    │    └ 'Child'
    └ {}
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/clsregistry.py", line 483, in _access_cls
    return self.fallback[key]
           │    │        └ 'Child'
           │    └ <member 'fallback' of '_class_resolver' objects>
           └ <sqlalchemy.orm.clsregistry._class_resolver object at 0x10855b0a0>

KeyError: 'Child'


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 39, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x10852e5c0>
    │       └ <function run at 0x1047b9da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x10853c640>
           │      └ <function Runner.run at 0x10489de40>
           └ <asyncio.runners.Runner object at 0x1048bded0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10489b920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1048bded0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10489b880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10489d6c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1047872e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,)}
                     │    │           │    └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x108476190>
                     │    └ <function Dispatcher.feed_update at 0x1079399e0>
                     └ <Dispatcher '0x10847ecd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x1079384a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x108491f10>
                     └ <Dispatcher '0x10847ecd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x108492710>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x108492790>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x1084f1800>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                 └ <function CallableObject.call at 0x108588a40>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10847ecd0'>>, Update(update_id=746556934, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x107938fe0>
                 └ <Dispatcher '0x10847ecd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x108588900>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1079384a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10847ec90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x107939080>
                 └ <Dispatcher '0x10847ecd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x107938fe0>
                     └ <Router '0x104aa5450'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x108588ae0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1079384a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x107940990>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x107939080>
                 └ <Router '0x104aa5450'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │        └ <function TelegramEventObserver.trigger at 0x1079385e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x107940990>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ functools.partial(<bot.command.midleware.is_admin.IsAdmin object at 0x108523210>, <function CallableObject.call at 0x108588c20>)

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/midleware/is_admin.py", line 17, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │       └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ <function CallableObject.call at 0x108588c20>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_start at 0x10851b1a0>, Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, ...

> File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/start.py", line 24, in cmd_start
    if await select_db.select_user(message.from_user.id) is None:
             │         │           │       │         └ 5840903752
             │         │           │       └ User(id=5840903752, is_bot=False, first_name='Karabok', last_name=None, username='NoverLove', language_code='ru', is_premium=...
             │         │           └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
             │         └ <function select_user at 0x10808ae80>
             └ <module 'bot.database.select_db' from '/Users/karabok/Documents/Python/botAndruha/bot/database/select_db.py'>

  File "/Users/karabok/Documents/Python/botAndruha/bot/database/select_db.py", line 13, in select_user
    user = s.query(datab_model.Users).filter(datab_model.Users.user_id == user_id).first()
           │ │     │           │             │           │     │          └ 5840903752
           │ │     │           │             │           │     └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x108518400>
           │ │     │           │             │           └ <class 'bot.database.datab_model.Users'>
           │ │     │           │             └ <module 'bot.database.datab_model' from '/Users/karabok/Documents/Python/botAndruha/bot/database/datab_model.py'>
           │ │     │           └ <class 'bot.database.datab_model.Users'>
           │ │     └ <module 'bot.database.datab_model' from '/Users/karabok/Documents/Python/botAndruha/bot/database/datab_model.py'>
           │ └ <function Session.query at 0x108395260>
           └ <sqlalchemy.orm.session.Session object at 0x1087aa550>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           │    │          │         │       └ {}
           │    │          │         └ <sqlalchemy.orm.session.Session object at 0x1087aa550>
           │    │          └ (<class 'bot.database.datab_model.Users'>,)
           │    └ <class 'sqlalchemy.orm.query.Query'>
           └ <sqlalchemy.orm.session.Session object at 0x1087aa550>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 275, in __init__
    self._set_entities(entities)
    │    │             └ (<class 'bot.database.datab_model.Users'>,)
    │    └ <function Query._set_entities at 0x1082be7a0>
    └ <sqlalchemy.orm.query.Query object at 0x1087a9f50>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 287, in _set_entities
    self._raw_columns = [
    └ <sqlalchemy.orm.query.Query object at 0x1087a9f50>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 288, in <listcomp>
    coercions.expect(
    │         └ <function expect at 0x107d08680>
    └ <module 'sqlalchemy.sql.coercions' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqla...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/sql/coercions.py", line 389, in expect
    insp._post_inspect
    │    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x1082b5a90>
    └ <Mapper at 0x108514750; Users>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", line 1253, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
    │   │        │    │                    │    │    └ <Mapper at 0x108514750; Users>
    │   │        │    │                    │    └ <function Mapper._post_inspect at 0x1082baac0>
    │   │        │    │                    └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x1082b5a90>
    │   │        │    └ '_post_inspect'
    │   │        └ <sqlalchemy.util.langhelpers.HasMemoized.memoized_attribute object at 0x1082b5a90>
    │   └ <attribute '__dict__' of 'Mapper' objects>
    └ <Mapper at 0x108514750; Users>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2711, in _post_inspect
    self._check_configure()
    │    └ <function Mapper._check_configure at 0x1082b9d00>
    └ <Mapper at 0x108514750; Users>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2388, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x1084939d0>
    │                      └ <Mapper at 0x108514750; Users>
    └ <function _configure_registries at 0x1082bd9e0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4204, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x1082bdb20>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4245, in _do_configure_registries
    mapper._post_configure_properties()
    │      └ <function Mapper._post_configure_properties at 0x1082b9bc0>
    └ <Mapper at 0x108514750; Users>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2405, in _post_configure_properties
    prop.init()
    │    └ <function MapperProperty.init at 0x10817e160>
    └ <_RelationshipDeclared at 0x1084f37f0; children>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/interfaces.py", line 584, in init
    self.do_init()
    │    └ <function RelationshipProperty.do_init at 0x1082a44a0>
    └ <_RelationshipDeclared at 0x1084f37f0; children>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1642, in do_init
    self._setup_entity()
    │    └ <function RelationshipProperty._setup_entity at 0x1082a47c0>
    └ <_RelationshipDeclared at 0x1084f37f0; children>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/relationships.py", line 1854, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    │    │                         └ 'Child'
    │    └ <property object at 0x1082a8180>
    └ <_RelationshipDeclared at 0x1084f37f0; children>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/clsregistry.py", line 519, in _resolve_name
    self._raise_for_name(name, err)
    │    │               └ 'Child'
    │    └ <function _class_resolver._raise_for_name at 0x1083a6700>
    └ <sqlalchemy.orm.clsregistry._class_resolver object at 0x10855b0a0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/clsregistry.py", line 500, in _raise_for_name
    raise exc.InvalidRequestError(
          │   └ <class 'sqlalchemy.exc.InvalidRequestError'>
          └ <module 'sqlalchemy.exc' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/exc...

sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[Users(users)], expression 'Child' failed to locate a name ('Child'). If this is a class name, consider adding this relationship() to the <class 'bot.database.datab_model.Users'> class after both dependent classes have been defined.
2024-06-19T16:29:01.866567+0300, ERROR, start.py, start, 25, cmd_start, An error has been caught in function 'cmd_start', process 'MainProcess' (47714), thread 'MainThread' (4525211072):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 39, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x10852e5c0>
    │       └ <function run at 0x1047b9da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x10853c640>
           │      └ <function Runner.run at 0x10489de40>
           └ <asyncio.runners.Runner object at 0x1048bded0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10489b920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1048bded0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10489b880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10489d6c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1047872e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,)}
                     │    │           │    └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x108476190>
                     │    └ <function Dispatcher.feed_update at 0x1079399e0>
                     └ <Dispatcher '0x10847ecd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x1079384a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x108491f10>
                     └ <Dispatcher '0x10847ecd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x108492710>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x108492790>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x1084f1800>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556934, message=Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(U...
                 └ <function CallableObject.call at 0x108588a40>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10847ecd0'>>, Update(update_id=746556934, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x107938fe0>
                 └ <Dispatcher '0x10847ecd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x108588900>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1079384a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10847ec90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x107939080>
                 └ <Dispatcher '0x10847ecd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x107938fe0>
                     └ <Router '0x104aa5450'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x108588ae0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1079384a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x107940990>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x107939080>
                 └ <Router '0x104aa5450'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │        └ <function TelegramEventObserver.trigger at 0x1079385e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x107940990>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ functools.partial(<bot.command.midleware.is_admin.IsAdmin object at 0x108523210>, <function CallableObject.call at 0x108588c20>)

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/midleware/is_admin.py", line 17, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10847ecd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x108476190>,), 'bot': <aiogram.client....
                 │       └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ <function CallableObject.call at 0x108588c20>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_start at 0x10851b1a0>, Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, ...

> File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/start.py", line 25, in cmd_start
    await insert_db.insert_user(message.from_user.id, message.from_user.username, message.from_user.full_name)
          │         │           │       │         │   │       │         │         │       │         └ <property object at 0x1058f5b70>
          │         │           │       │         │   │       │         │         │       └ User(id=5840903752, is_bot=False, first_name='Karabok', last_name=None, username='NoverLove', language_code='ru', is_premium=...
          │         │           │       │         │   │       │         │         └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
          │         │           │       │         │   │       │         └ 'NoverLove'
          │         │           │       │         │   │       └ User(id=5840903752, is_bot=False, first_name='Karabok', last_name=None, username='NoverLove', language_code='ru', is_premium=...
          │         │           │       │         │   └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
          │         │           │       │         └ 5840903752
          │         │           │       └ User(id=5840903752, is_bot=False, first_name='Karabok', last_name=None, username='NoverLove', language_code='ru', is_premium=...
          │         │           └ Message(message_id=12779, date=datetime.datetime(2024, 6, 19, 13, 28, 57, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
          │         └ <function insert_user at 0x108519b20>
          └ <module 'bot.database.insert_db' from '/Users/karabok/Documents/Python/botAndruha/bot/database/insert_db.py'>

  File "/Users/karabok/Documents/Python/botAndruha/bot/database/insert_db.py", line 14, in insert_user
    cheque = datab_model.Users(user_id=user_id, user_tag=user_tag, user_name=user_name, date_create=datetime.now())
             │           │             │                 │                   │                      │        └ <method 'now' of 'datetime.datetime' objects>
             │           │             │                 │                   │                      └ <class 'datetime.datetime'>
             │           │             │                 │                   └ 'Karabok'
             │           │             │                 └ 'NoverLove'
             │           │             └ 5840903752
             │           └ <class 'bot.database.datab_model.Users'>
             └ <module 'bot.database.datab_model' from '/Users/karabok/Documents/Python/botAndruha/bot/database/datab_model.py'>

  File "<string>", line 4, in __init__
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
    │       │        │    │     │     └ {'user_id': 5840903752, 'user_tag': 'NoverLove', 'user_name': 'Karabok', 'date_create': datetime.datetime(2024, 6, 19, 16, 29...
    │       │        │    │     └ ()
    │       │        │    └ <sqlalchemy.orm.state.InstanceState object at 0x105a22b10>
    │       │        └ <member 'init' of 'InstanceEventsDispatch' objects>
    │       └ <sqlalchemy.event.base.InstanceEventsDispatch object at 0x1084f39d0>
    └ <ClassManager of <class 'bot.database.datab_model.Users'> at 1084d55b0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/event/attr.py", line 497, in __call__
    fn(*args, **kw)
    │   │       └ {}
    │   └ (<sqlalchemy.orm.state.InstanceState object at 0x105a22b10>, (), {'user_id': 5840903752, 'user_tag': 'NoverLove', 'user_name'...
    └ <function _event_on_init at 0x1082bdda0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4396, in _event_on_init
    instrumenting_mapper._check_configure()
    │                    └ <function Mapper._check_configure at 0x1082b9d00>
    └ <Mapper at 0x108514750; Users>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 2388, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    │                      │    └ <sqlalchemy.orm.decl_api.registry object at 0x1084939d0>
    │                      └ <Mapper at 0x108514750; Users>
    └ <function _configure_registries at 0x1082bd9e0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4204, in _configure_registries
    _do_configure_registries(registries, cascade)
    │                        │           └ True
    │                        └ set()
    └ <function _do_configure_registries at 0x1082bdb20>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/sqlalchemy/orm/mapper.py", line 4241, in _do_configure_registries
    raise e
          └ InvalidRequestError("One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggerin...

sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Users(users)]'. Original exception was: When initializing mapper Mapper[Users(users)], expression 'Child' failed to locate a name ('Child'). If this is a class name, consider adding this relationship() to the <class 'bot.database.datab_model.Users'> class after both dependent classes have been defined.
2024-06-19T16:31:06.742710+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:31:18.699186+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:31:52.676441+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:32:04.192910+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:32:33.456200+0300, INFO, main.py, main, 26, on_shutdown, Bot off
2024-06-19T16:33:46.020858+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:33:46.828304+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (48144), thread 'MainThread' (4480765376):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 40, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x105d14ea0>
    │       └ <function run at 0x102041da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x105d04940>
           │      └ <function Runner.run at 0x102125e40>
           └ <asyncio.runners.Runner object at 0x102145e90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102123920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102145e90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102123880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1021256c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10200f2e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,)}
                     │    │           │    └ Update(update_id=746556940, message=Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x105c42190>
                     │    └ <function Dispatcher.feed_update at 0x10512d9e0>
                     └ <Dispatcher '0x1051b5bd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x10512c4a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x105c5df10>
                     └ <Dispatcher '0x1051b5bd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556940, message=Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x105c5e710>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556940, message=Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x105c5e790>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556940, message=Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x105d16ca0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556940, message=Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(U...
                 └ <function CallableObject.call at 0x105e67740>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1051b5bd0'>>, Update(update_id=746556940, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x10512cfe0>
                 └ <Dispatcher '0x1051b5bd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x105e67600>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10512c4a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x105c4acd0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10512d080>
                 └ <Dispatcher '0x1051b5bd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x10512cfe0>
                     └ <Router '0x105d08f50'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x105e677e0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10512c4a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x105d08f90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10512d080>
                 └ <Router '0x105d08f50'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │        └ <function TelegramEventObserver.trigger at 0x10512c5e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x105d08f90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32, 52, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ <function CallableObject.call at 0x105e67920>
> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_new_car at 0x105d14fe0>, Message(message_id=12790, date=datetime.datetime(2024, 6, 19, 13, 32...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/new_car.py", line 18, in cmd_new_car
    await state.set_state(NewCar.customer)
          │     │         └ <class 'bot.states.new_car_state.NewCar'>
          │     └ <function FSMContext.set_state at 0x1050c8a40>
          └ <aiogram.fsm.context.FSMContext object at 0x105f14a90>

AttributeError: type object 'NewCar' has no attribute 'customer'
2024-06-19T16:33:48.327659+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (48144), thread 'MainThread' (4480765376):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 40, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x105d14ea0>
    │       └ <function run at 0x102041da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x105d04940>
           │      └ <function Runner.run at 0x102125e40>
           └ <asyncio.runners.Runner object at 0x102145e90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x102123920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x102145e90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102123880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1021256c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10200f2e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,)}
                     │    │           │    └ Update(update_id=746556941, message=Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x105c42190>
                     │    └ <function Dispatcher.feed_update at 0x10512d9e0>
                     └ <Dispatcher '0x1051b5bd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x10512c4a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x105c5df10>
                     └ <Dispatcher '0x1051b5bd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556941, message=Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x105c5e710>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556941, message=Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x105c5e790>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556941, message=Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x105e65440>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556941, message=Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(U...
                 └ <function CallableObject.call at 0x105e67600>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1051b5bd0'>>, Update(update_id=746556941, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x10512cfe0>
                 └ <Dispatcher '0x1051b5bd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x105e677e0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10512c4a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x105c4acd0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10512d080>
                 └ <Dispatcher '0x1051b5bd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x10512cfe0>
                     └ <Router '0x105d08f50'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x105e67920>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10512c4a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x105d08f90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10512d080>
                 └ <Router '0x105d08f50'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │        └ <function TelegramEventObserver.trigger at 0x10512c5e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x105d08f90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1051b5bd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x105c42190>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ <function CallableObject.call at 0x105e67a60>
> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_new_car at 0x105d14fe0>, Message(message_id=12791, date=datetime.datetime(2024, 6, 19, 13, 33...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/new_car.py", line 18, in cmd_new_car
    await state.set_state(NewCar.customer)
          │     │         └ <class 'bot.states.new_car_state.NewCar'>
          │     └ <function FSMContext.set_state at 0x1050c8a40>
          └ <aiogram.fsm.context.FSMContext object at 0x105f17350>

AttributeError: type object 'NewCar' has no attribute 'customer'
2024-06-19T16:34:11.007224+0300, INFO, main.py, main, 27, on_shutdown, Bot off
2024-06-19T16:34:18.579971+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:35:12.764711+0300, INFO, main.py, main, 27, on_shutdown, Bot off
2024-06-19T16:35:40.254284+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:36:40.888927+0300, INFO, main.py, main, 28, on_shutdown, Bot off
2024-06-19T16:42:11.555959+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:42:12.272901+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (48575), thread 'MainThread' (4570168768):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x114692700>
    │       └ <function run at 0x1109e5da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x11467cb40>
           │      └ <function Runner.run at 0x110a7de40>
           └ <asyncio.runners.Runner object at 0x110a9dfd0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x110a7b920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x110a9dfd0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x110a7b880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x110a7d6c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1109b32e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,)}
                     │    │           │    └ Update(update_id=746556950, message=Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UT...
                     │    │           └ <aiogram.client.bot.Bot object at 0x1145b6490>
                     │    └ <function Dispatcher.feed_update at 0x113a799e0>
                     └ <Dispatcher '0x1145befd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x113a784a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x1145d2210>
                     └ <Dispatcher '0x1145befd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556950, message=Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x1145d2a10>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556950, message=Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x1145d2a90>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556950, message=Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UT...
                 └ <function TelegramEventObserver.trigger at 0x1146ac540>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556950, message=Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UT...
                 └ <function CallableObject.call at 0x112fb8fe0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x1145befd0'>>, Update(update_id=746556950, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x113a78fe0>
                 └ <Dispatcher '0x1145befd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x112fb8ea0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x113a784a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x1145bef90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x113a79080>
                 └ <Dispatcher '0x1145befd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x113a78fe0>
                     └ <Router '0x11469b190'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x1146aeca0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x113a784a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x11469b1d0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x113a79080>
                 └ <Router '0x11469b190'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x113a785e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x11469b1d0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x1145befd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x1145b6490>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ <function CallableObject.call at 0x112fb9080>
> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_new_car at 0x114692840>, Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/my_car.py", line 24, in cmd_new_car
    await message.answer(cars)
          │       │      └ <sqlalchemy.orm.query.Query object at 0x11466bf10>
          │       └ <function Message.answer at 0x11198e2a0>
          └ Message(message_id=12805, date=datetime.datetime(2024, 6, 19, 13, 42, 7, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/types/message.py", line 2027, in answer
    return SendMessage(
           └ <class 'aiogram.methods.send_message.SendMessage'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/pydantic/main.py", line 176, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
    │    │                      │               │                   └ SendMessage()
    │    │                      │               └ {'chat_id': 5840903752, 'message_thread_id': None, 'business_connection_id': None, 'text': <sqlalchemy.orm.query.Query object...
    │    │                      └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
    │    └ SchemaValidator(title="SendMessage", validator=Model(
    │          ModelValidator {
    │              revalidate: Never,
    │              validator: Func...
    └ SendMessage()

pydantic_core._pydantic_core.ValidationError: 1 validation error for SendMessage
text
  Input should be a valid string [type=string_type, input_value=<sqlalchemy.orm.query.Query object at 0x11466bf10>, input_type=Query]
    For further information visit https://errors.pydantic.dev/2.7/v/string_type
2024-06-19T16:42:25.899452+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:43:11.553048+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:43:18.389012+0300, ERROR, insert_db.py, insert_db, 36, insert_car, (sqlite3.IntegrityError) NOT NULL constraint failed: cars.number
[SQL: INSERT INTO cars (brend, model, number, color, user_id) VALUES (?, ?, ?, ?, ?)]
[parameters: ('asd', 'qwe', None, 'qfqfq', 5840903752)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-06-19T16:44:42.310756+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:44:57.016370+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:45:08.057903+0300, ERROR, insert_db.py, insert_db, 36, insert_car, (sqlite3.IntegrityError) NOT NULL constraint failed: cars.number
[SQL: INSERT INTO cars (brend, model, number, color, user_id) VALUES (?, ?, ?, ?, ?)]
[parameters: ('asdasd', 'asdasd', None, 'asd', 5840903752)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-06-19T16:45:46.861115+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:46:32.885552+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:46:41.000664+0300, DEBUG, new_car_state.py, new_car_state, 55, color, asdasdasda
2024-06-19T16:46:41.015469+0300, ERROR, insert_db.py, insert_db, 36, insert_car, (sqlite3.IntegrityError) NOT NULL constraint failed: cars.number
[SQL: INSERT INTO cars (brend, model, number, color, user_id) VALUES (?, ?, ?, ?, ?)]
[parameters: ('asdasdas', 'asdasd', None, 'asdasda', 5840903752)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-06-19T16:47:08.120988+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:47:15.269902+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:47:31.338404+0300, DEBUG, new_car_state.py, new_car_state, 55, color, asdasdas
2024-06-19T16:48:17.703847+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (49118), thread 'MainThread' (4586343872):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x10c78a700>
    │       └ <function run at 0x108a05da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x10c774b40>
           │      └ <function Runner.run at 0x108a99e40>
           └ <asyncio.runners.Runner object at 0x108a92d90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x108a97920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x108a92d90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x108a97880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x108a996c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1089d32e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,)}
                     │    │           │    └ Update(update_id=746556973, message=Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x10c6b24d0>
                     │    └ <function Dispatcher.feed_update at 0x10bb719e0>
                     └ <Dispatcher '0x10c6bb050'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x10bb704a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c6ce2d0>
                     └ <Dispatcher '0x10c6bb050'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556973, message=Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x10c6cead0>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556973, message=Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x10c6ceb50>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556973, message=Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x10c78afc0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556973, message=Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(U...
                 └ <function CallableObject.call at 0x10b0b5a80>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10c6bb050'>>, Update(update_id=746556973, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x10bb70fe0>
                 └ <Dispatcher '0x10c6bb050'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10b0b4f40>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10bb704a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c6bb010>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10bb71080>
                 └ <Dispatcher '0x10c6bb050'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x10bb70fe0>
                     └ <Router '0x10c7966d0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10b0b5080>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10bb704a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c7967d0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10bb71080>
                 └ <Router '0x10c7966d0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │        └ <function TelegramEventObserver.trigger at 0x10bb705e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c7967d0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10c6bb050'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c6b24d0>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ <function CallableObject.call at 0x10b8c07c0>
> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_new_car at 0x10c78a840>, Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/my_car.py", line 24, in cmd_new_car
    await message.answer(cars)
          │       │      └ [<bot.database.datab_model.Cars object at 0x10c9f60d0>]
          │       └ <function Message.answer at 0x109a7e2a0>
          └ Message(message_id=12849, date=datetime.datetime(2024, 6, 19, 13, 48, 17, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/types/message.py", line 2027, in answer
    return SendMessage(
           └ <class 'aiogram.methods.send_message.SendMessage'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/pydantic/main.py", line 176, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
    │    │                      │               │                   └ SendMessage()
    │    │                      │               └ {'chat_id': 5840903752, 'message_thread_id': None, 'business_connection_id': None, 'text': [<bot.database.datab_model.Cars ob...
    │    │                      └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
    │    └ SchemaValidator(title="SendMessage", validator=Model(
    │          ModelValidator {
    │              revalidate: Never,
    │              validator: Func...
    └ SendMessage()

pydantic_core._pydantic_core.ValidationError: 1 validation error for SendMessage
text
  Input should be a valid string [type=string_type, input_value=[<bot.database.datab_mode... object at 0x10c9f60d0>], input_type=list]
    For further information visit https://errors.pydantic.dev/2.7/v/string_type
2024-06-19T16:48:37.248058+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:48:45.810463+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:48:48.589811+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (49242), thread 'MainThread' (4635024832):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x10c956700>
    │       └ <function run at 0x108bbdda0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x10c940b40>
           │      └ <function Runner.run at 0x108ca1e40>
           └ <asyncio.runners.Runner object at 0x108cc1d10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x108c9f920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x108cc1d10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x108c9f880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x108ca16c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x108b8b2e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,)}
                     │    │           │    └ Update(update_id=746556974, message=Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x10c87e290>
                     │    └ <function Dispatcher.feed_update at 0x10bd419e0>
                     └ <Dispatcher '0x10c886d90'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x10bd404a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c89a010>
                     └ <Dispatcher '0x10c886d90'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556974, message=Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x10c89a810>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556974, message=Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x10c89a890>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556974, message=Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x10c96c540>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556974, message=Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(U...
                 └ <function CallableObject.call at 0x109e2cfe0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10c886d90'>>, Update(update_id=746556974, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x10bd40fe0>
                 └ <Dispatcher '0x10c886d90'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x109e2cea0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10bd404a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c885450>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10bd41080>
                 └ <Dispatcher '0x10c886d90'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x10bd40fe0>
                     └ <Router '0x10c962450'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10c96ea20>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10bd404a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c962350>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10bd41080>
                 └ <Router '0x10c962450'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │        └ <function TelegramEventObserver.trigger at 0x10bd405e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c962350>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10c886d90'>, 'bots': (<aiogram.client.bot.Bot object at 0x10c87e290>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ <function CallableObject.call at 0x109e2d080>
> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_new_car at 0x10c956840>, Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/my_car.py", line 24, in cmd_new_car
    await message.answer(cars.car_id)
          │       │      └ [<bot.database.datab_model.Cars object at 0x10cbd8b10>]
          │       └ <function Message.answer at 0x109c4e2a0>
          └ Message(message_id=12850, date=datetime.datetime(2024, 6, 19, 13, 48, 48, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...

AttributeError: 'list' object has no attribute 'car_id'
2024-06-19T16:48:59.434151+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:49:08.552071+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:49:09.352273+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (49338), thread 'MainThread' (4433702336):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x10cf1a660>
    │       └ <function run at 0x109245da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x10cf04c40>
           │      └ <function Runner.run at 0x109329e40>
           └ <asyncio.runners.Runner object at 0x108d47f10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1092d7920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x108d47f10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1092d7880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1093296c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1092132e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,)}
                     │    │           │    └ Update(update_id=746556975, message=Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UT...
                     │    │           └ <aiogram.client.bot.Bot object at 0x10ce46290>
                     │    └ <function Dispatcher.feed_update at 0x10c3319e0>
                     └ <Dispatcher '0x10ce4ee10'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x10c3304a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10ce62090>
                     └ <Dispatcher '0x10ce4ee10'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556975, message=Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x10ce62890>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556975, message=Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x10ce62910>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556975, message=Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UT...
                 └ <function TelegramEventObserver.trigger at 0x10d05c4a0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556975, message=Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UT...
                 └ <function CallableObject.call at 0x10a3d8f40>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10ce4ee10'>>, Update(update_id=746556975, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x10c330fe0>
                 └ <Dispatcher '0x10ce4ee10'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10a3d8e00>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10c3304a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10ce4edd0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10c331080>
                 └ <Dispatcher '0x10ce4ee10'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x10c330fe0>
                     └ <Router '0x10cf26610'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10d05ec00>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10c3304a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10cf26510>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10c331080>
                 └ <Router '0x10cf26610'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x10c3305e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10cf26510>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10ce4ee10'>, 'bots': (<aiogram.client.bot.Bot object at 0x10ce46290>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ <function CallableObject.call at 0x10a3d8fe0>
> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_new_car at 0x10cf1a7a0>, Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/my_car.py", line 24, in cmd_new_car
    await message.answer(cars[0].car_id)
          │       │      └ [<bot.database.datab_model.Cars object at 0x10d1bd9d0>]
          │       └ <function Message.answer at 0x10a2ba2a0>
          └ Message(message_id=12851, date=datetime.datetime(2024, 6, 19, 13, 49, 6, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/types/message.py", line 2027, in answer
    return SendMessage(
           └ <class 'aiogram.methods.send_message.SendMessage'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/pydantic/main.py", line 176, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
    │    │                      │               │                   └ SendMessage()
    │    │                      │               └ {'chat_id': 5840903752, 'message_thread_id': None, 'business_connection_id': None, 'text': 1, 'parse_mode': <Default('parse_m...
    │    │                      └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
    │    └ SchemaValidator(title="SendMessage", validator=Model(
    │          ModelValidator {
    │              revalidate: Never,
    │              validator: Func...
    └ SendMessage()

pydantic_core._pydantic_core.ValidationError: 1 validation error for SendMessage
text
  Input should be a valid string [type=string_type, input_value=1, input_type=int]
    For further information visit https://errors.pydantic.dev/2.7/v/string_type
2024-06-19T16:49:26.454050+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:49:34.108302+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:49:42.468201+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (49434), thread 'MainThread' (4717166016):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x114026700>
    │       └ <function run at 0x110291da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x114010b40>
           │      └ <function Runner.run at 0x110375e40>
           └ <asyncio.runners.Runner object at 0x110395d10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x110373920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x110395d10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x110373880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1103756c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x11025f2e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,)}
                     │    │           │    └ Update(update_id=746556976, message=Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(U...
                     │    │           └ <aiogram.client.bot.Bot object at 0x113f4e710>
                     │    └ <function Dispatcher.feed_update at 0x1134119e0>
                     └ <Dispatcher '0x113f57250'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x1134104a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x113f6a450>
                     └ <Dispatcher '0x113f57250'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556976, message=Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x113f6ac50>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556976, message=Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(U...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x113f6acd0>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746556976, message=Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(U...
                 └ <function TelegramEventObserver.trigger at 0x11403c540>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746556976, message=Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(U...
                 └ <function CallableObject.call at 0x1128a0fe0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x113f57250'>>, Update(update_id=746556976, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x113410fe0>
                 └ <Dispatcher '0x113f57250'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x1128a0ea0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1134104a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x113f558d0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x113411080>
                 └ <Dispatcher '0x113f57250'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x113410fe0>
                     └ <Router '0x113f6b790'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x11403eca0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1134104a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x114032090>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x113411080>
                 └ <Router '0x113f6b790'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                     │        └ <function TelegramEventObserver.trigger at 0x1134105e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x114032090>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x113f57250'>, 'bots': (<aiogram.client.bot.Bot object at 0x113f4e710>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...
                 └ <function CallableObject.call at 0x1128a1260>
> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_new_car at 0x114026840>, Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/my_car.py", line 24, in cmd_new_car
    await message.answer(cars[0])
          │       │      └ [<bot.database.datab_model.Cars object at 0x1142c9bd0>]
          │       └ <function Message.answer at 0x1113222a0>
          └ Message(message_id=12852, date=datetime.datetime(2024, 6, 19, 13, 49, 42, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type=...

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/types/message.py", line 2027, in answer
    return SendMessage(
           └ <class 'aiogram.methods.send_message.SendMessage'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/pydantic/main.py", line 176, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
    │    │                      │               │                   └ SendMessage()
    │    │                      │               └ {'chat_id': 5840903752, 'message_thread_id': None, 'business_connection_id': None, 'text': <bot.database.datab_model.Cars obj...
    │    │                      └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
    │    └ SchemaValidator(title="SendMessage", validator=Model(
    │          ModelValidator {
    │              revalidate: Never,
    │              validator: Func...
    └ SendMessage()

pydantic_core._pydantic_core.ValidationError: 1 validation error for SendMessage
text
  Input should be a valid string [type=string_type, input_value=<bot.database.datab_model...s object at 0x1142c9bd0>, input_type=Cars]
    For further information visit https://errors.pydantic.dev/2.7/v/string_type
2024-06-19T16:50:20.297457+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:50:28.779324+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:50:31.937385+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:50:45.331843+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:50:49.024248+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:53:45.039673+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T16:54:16.692965+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T16:54:24.600799+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:17:09.434465+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T17:17:43.052065+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:18:22.981789+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:19:07.915626+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:19:12.427589+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:19:24.405942+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:21:17.108315+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:21:26.485687+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:21:53.891993+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:22:02.651519+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:22:03.402043+0300, DEBUG, new_work.py, new_work, 21, cmd_new_work, []
2024-06-19T17:22:13.073282+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:22:28.853778+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:23:03.642136+0300, DEBUG, new_car_state.py, new_car_state, 55, color, А002АА161
2024-06-19T17:25:45.477853+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:31:23.942593+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:35:37.153268+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:37:03.225739+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:40:28.229244+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:58:54.203035+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T17:59:13.046892+0300, INFO, main.py, main, 30, on_shutdown, Bot off
2024-06-19T17:59:24.672695+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:03:52.520118+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:04:42.103454+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:05:15.547389+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:05:17.133869+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (54271), thread 'MainThread' (4812803520):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x114391120>
    │       └ <function run at 0x1105e1da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x11434d340>
           │      └ <function Runner.run at 0x1106c1e40>
           └ <asyncio.runners.Runner object at 0x1106e1ed0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1106bf920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x1106e1ed0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1106bf880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1106c16c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1105ab2e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,)}
                     │    │           │    └ Update(update_id=746557023, message=Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UT...
                     │    │           └ <aiogram.client.bot.Bot object at 0x114296510>
                     │    └ <function Dispatcher.feed_update at 0x1137619e0>
                     └ <Dispatcher '0x113678290'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x1137604a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x1142b6250>
                     └ <Dispatcher '0x113678290'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557023, message=Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x1142b6a50>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557023, message=Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x1142b6ad0>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557023, message=Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UT...
                 └ <function TelegramEventObserver.trigger at 0x114392b60>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746557023, message=Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UT...
                 └ <function CallableObject.call at 0x1143bb7e0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x113678290'>>, Update(update_id=746557023, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x113760fe0>
                 └ <Dispatcher '0x113678290'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x1143bb6a0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1137604a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x1142a7010>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x113761080>
                 └ <Dispatcher '0x113678290'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x113760fe0>
                     └ <Router '0x11379ab10'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x1143bb880>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1137604a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x113769150>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x113761080>
                 └ <Router '0x11379ab10'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x1137605e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x113769150>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ functools.partial(<bot.command.midleware.is_admin.IsAdmin object at 0x11434a510>, <function CallableObject.call at 0x1143bb920>)

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/midleware/is_admin.py", line 17, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x113678290'>, 'bots': (<aiogram.client.bot.Bot object at 0x114296510>,), 'bot': <aiogram.client....
                 │       └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ <function CallableObject.call at 0x1143bb920>

> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_start at 0x11433f420>, Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 1...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/start.py", line 40, in cmd_start
    await message.answer(text, reply_markup=main_kb(message))
          │       │      │                  │       └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
          │       │      │                  └ <function main_kb at 0x1137622a0>
          │       │      └ '\nЗдравствуйте! 👋 Добро пожаловать в автосервис "Профи"!\n\nМы рады предложить вам широкий спектр услуг по обслуживанию и ре...
          │       └ <function Message.answer at 0x11166e2a0>
          └ Message(message_id=12943, date=datetime.datetime(2024, 6, 19, 15, 5, 16, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...

  File "/Users/karabok/Documents/Python/botAndruha/bot/keyboards/reply.py", line 8, in main_kb
    kb.add(text=TEXT_KB['start'])
    │  │        └ {'start': '🔁 Перезапуск', 'new_work': '🔧 Запись на прием', 'menu': '🏠 Главное меню', 'new_car': 'Добавить новую машину 🚙', 'm...
    │  └ <function KeyboardBuilder.add at 0x1137b5940>
    └ <aiogram.utils.keyboard.ReplyKeyboardBuilder object at 0x1143a1c10>

TypeError: KeyboardBuilder.add() got an unexpected keyword argument 'text'
2024-06-19T18:06:31.141499+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:06:39.316199+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:06:45.012594+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (54383), thread 'MainThread' (4418018752):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x10a5fd120>
    │       └ <function run at 0x1066ddda0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x10a491340>
           │      └ <function Runner.run at 0x1067bde40>
           └ <asyncio.runners.Runner object at 0x10a5eadd0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x1067bb920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10a5eadd0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1067bb880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1067bd6c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1066a72e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,)}
                     │    │           │    └ Update(update_id=746557024, message=Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UT...
                     │    │           └ <aiogram.client.bot.Bot object at 0x10a3de690>
                     │    └ <function Dispatcher.feed_update at 0x1098d19e0>
                     └ <Dispatcher '0x10a3ef1d0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x1098d04a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10a3fe450>
                     └ <Dispatcher '0x10a3ef1d0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557024, message=Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x10a3fec50>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557024, message=Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x10a3fecd0>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557024, message=Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UT...
                 └ <function TelegramEventObserver.trigger at 0x10a5feb60>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746557024, message=Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UT...
                 └ <function CallableObject.call at 0x10a6277e0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10a3ef1d0'>>, Update(update_id=746557024, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x1098d0fe0>
                 └ <Dispatcher '0x10a3ef1d0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10a6276a0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1098d04a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10a3ef190>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x1098d1080>
                 └ <Dispatcher '0x10a3ef1d0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x1098d0fe0>
                     └ <Router '0x109925a90'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10a627880>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x1098d04a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x1098d5890>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x1098d1080>
                 └ <Router '0x109925a90'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x1098d05e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x1098d5890>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ functools.partial(<bot.command.midleware.is_admin.IsAdmin object at 0x10a48e850>, <function CallableObject.call at 0x10a627920>)

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/midleware/is_admin.py", line 17, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10a3ef1d0'>, 'bots': (<aiogram.client.bot.Bot object at 0x10a3de690>,), 'bot': <aiogram.client....
                 │       └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ <function CallableObject.call at 0x10a627920>

> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_start at 0x10a483420>, Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 4...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/start.py", line 40, in cmd_start
    await message.answer(text, reply_markup=main_kb(message))
          │       │      │                  │       └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
          │       │      │                  └ <function main_kb at 0x1098d22a0>
          │       │      └ '\nЗдравствуйте! 👋 Добро пожаловать в автосервис "Профи"!\n\nМы рады предложить вам широкий спектр услуг по обслуживанию и ре...
          │       └ <function Message.answer at 0x1078862a0>
          └ Message(message_id=12944, date=datetime.datetime(2024, 6, 19, 15, 6, 44, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...

  File "/Users/karabok/Documents/Python/botAndruha/bot/keyboards/reply.py", line 8, in main_kb
    kb.row(TEXT_KB['start'], TEXT_KB['new_work'])
    │  │   │                 └ {'start': '🔁 Перезапуск', 'new_work': '🔧 Запись на прием', 'menu': '🏠 Главное меню', 'new_car': 'Добавить новую машину 🚙', 'm...
    │  │   └ {'start': '🔁 Перезапуск', 'new_work': '🔧 Запись на прием', 'menu': '🏠 Главное меню', 'new_car': 'Добавить новую машину 🚙', 'm...
    │  └ <function KeyboardBuilder.row at 0x1099299e0>
    └ <aiogram.utils.keyboard.ReplyKeyboardBuilder object at 0x10a3fef10>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/utils/keyboard.py", line 204, in row
    self._validate_buttons(*buttons)
    │    │                  └ ('🔁 Перезапуск', '🔧 Запись на прием')
    │    └ <function KeyboardBuilder._validate_buttons at 0x109929620>
    └ <aiogram.utils.keyboard.ReplyKeyboardBuilder object at 0x10a3fef10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/utils/keyboard.py", line 93, in _validate_buttons
    return all(map(self._validate_button, buttons))
                   │    │                 └ ('🔁 Перезапуск', '🔧 Запись на прием')
                   │    └ <function KeyboardBuilder._validate_button at 0x109929580>
                   └ <aiogram.utils.keyboard.ReplyKeyboardBuilder object at 0x10a3fef10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/utils/keyboard.py", line 81, in _validate_button
    raise ValueError(

ValueError: '🔁 Перезапуск' should be type 'KeyboardButton' not 'str'
2024-06-19T18:07:10.850658+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:07:23.959378+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:07:25.323196+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (54490), thread 'MainThread' (4660907456):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x10d3e9120>
    │       └ <function run at 0x1095d1da0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x10d27d340>
           │      └ <function Runner.run at 0x1096b1e40>
           └ <asyncio.runners.Runner object at 0x10d2aed10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10965f920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10d2aed10>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10965f880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1096b16c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10959b2e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,)}
                     │    │           │    └ Update(update_id=746557025, message=Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UT...
                     │    │           └ <aiogram.client.bot.Bot object at 0x10d1ca6d0>
                     │    └ <function Dispatcher.feed_update at 0x10c6bd9e0>
                     └ <Dispatcher '0x10d1db250'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x10c6bc4a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10d1ea4d0>
                     └ <Dispatcher '0x10d1db250'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557025, message=Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x10d1eacd0>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557025, message=Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x10d1ead50>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557025, message=Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UT...
                 └ <function TelegramEventObserver.trigger at 0x10d3eab60>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746557025, message=Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UT...
                 └ <function CallableObject.call at 0x10d4137e0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x10d1db250'>>, Update(update_id=746557025, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x10c6bcfe0>
                 └ <Dispatcher '0x10d1db250'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10d4136a0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10c6bc4a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10d1db210>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10c6bd080>
                 └ <Dispatcher '0x10d1db250'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x10c6bcfe0>
                     └ <Router '0x10c472b50'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x10d413880>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x10c6bc4a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c6c1610>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x10c6bd080>
                 └ <Router '0x10c472b50'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x10c6bc5e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x10c6c1610>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ functools.partial(<bot.command.midleware.is_admin.IsAdmin object at 0x10d27a710>, <function CallableObject.call at 0x10d413920>)

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/midleware/is_admin.py", line 17, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x10d1db250'>, 'bots': (<aiogram.client.bot.Bot object at 0x10d1ca6d0>,), 'bot': <aiogram.client....
                 │       └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ <function CallableObject.call at 0x10d413920>

> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_start at 0x10d26f420>, Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 2...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/start.py", line 40, in cmd_start
    await message.answer(text, reply_markup=main_kb(message))
          │       │      │                  │       └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
          │       │      │                  └ <function main_kb at 0x10c6be2a0>
          │       │      └ '\nЗдравствуйте! 👋 Добро пожаловать в автосервис "Профи"!\n\nМы рады предложить вам широкий спектр услуг по обслуживанию и ре...
          │       └ <function Message.answer at 0x10a6422a0>
          └ Message(message_id=12945, date=datetime.datetime(2024, 6, 19, 15, 7, 22, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...

  File "/Users/karabok/Documents/Python/botAndruha/bot/keyboards/reply.py", line 7, in main_kb
    kb = ReplyKeyboardMarkup(resize_keyboard=True)
         └ <class 'aiogram.types.reply_keyboard_markup.ReplyKeyboardMarkup'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/pydantic/main.py", line 176, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
    │    │                      │               │                   └ ReplyKeyboardMarkup()
    │    │                      │               └ {'resize_keyboard': True}
    │    │                      └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
    │    └ SchemaValidator(title="ReplyKeyboardMarkup", validator=Model(
    │          ModelValidator {
    │              revalidate: Never,
    │              validat...
    └ ReplyKeyboardMarkup()

pydantic_core._pydantic_core.ValidationError: 1 validation error for ReplyKeyboardMarkup
keyboard
  Field required [type=missing, input_value={'resize_keyboard': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.7/v/missing
2024-06-19T18:07:34.746460+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:07:42.873782+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:07:45.625107+0300, ERROR, handler.py, handler, 43, call, An error has been caught in function 'call', process 'MainProcess' (54592), thread 'MainThread' (4731276736):
Traceback (most recent call last):

  File "/Users/karabok/Documents/Python/botAndruha/main.py", line 42, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x112c6d120>
    │       └ <function run at 0x10eebdda0>
    └ <module 'asyncio' from '/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/__init__.py'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x112c29340>
           │      └ <function Runner.run at 0x10ef9de40>
           └ <asyncio.runners.Runner object at 0x10efbded0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-pa...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x10ef9b920>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x10efbded0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10ef9b880>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10ef9d6c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10ee872e0>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=True>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=True>)>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
                     │    │           │    │         └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,)}
                     │    │           │    └ Update(update_id=746557026, message=Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UT...
                     │    │           └ <aiogram.client.bot.Bot object at 0x112b72450>
                     │    └ <function Dispatcher.feed_update at 0x11203d9e0>
                     └ <Dispatcher '0x112b82fd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
                     │    │      └ <function TelegramEventObserver.wrap_outer_middleware at 0x11203c4a0>
                     │    └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x112b92250>
                     └ <Dispatcher '0x112b82fd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557026, message=Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.dispatcher.middlewares.user_context.UserContextMiddleware object at 0x112b92a50>, functools.partia...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 49, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557026, message=Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UT...
                 └ functools.partial(<aiogram.fsm.middleware.FSMContextMiddleware object at 0x112b92ad0>, <function TelegramEventObserver.trigge...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │       └ Update(update_id=746557026, message=Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UT...
                 └ <function TelegramEventObserver.trigger at 0x112c6eb60>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │             └ Update(update_id=746557026, message=Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UT...
                 └ <function CallableObject.call at 0x112c977e0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<bound method Dispatcher._listen_update of <Dispatcher '0x112b82fd0'>>, Update(update_id=746557026, message...
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
                 │    │                           │                  │        └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │    │                           │                  └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │    │                           └ 'message'
                 │    └ <function Router.propagate_event at 0x11203cfe0>
                 └ <Dispatcher '0x112b82fd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x112c976a0>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x11203c4a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x112b82f90>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x11203d080>
                 └ <Dispatcher '0x112b82fd0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 170, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
                     │      │                           │                  │        └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                     │      │                           │                  └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │      │                           └ 'message'
                     │      └ <function Router.propagate_event at 0x11203cfe0>
                     └ <Router '0x11008fad0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 142, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
                 │        │                     │               │           └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │        │                     │               └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 │        │                     └ <function Router.propagate_event.<locals>._wrapped at 0x112c97880>
                 │        └ <function TelegramEventObserver.wrap_outer_middleware at 0x11203c4a0>
                 └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x1120412d0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 137, in _wrapped
    return await self._propagate_event(
                 │    └ <function Router._propagate_event at 0x11203d080>
                 └ <Router '0x11008fad0'>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/router.py", line 162, in _propagate_event
    response = await observer.trigger(event, **kwargs)
                     │        │       │        └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                     │        │       └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                     │        └ <function TelegramEventObserver.trigger at 0x11203c5e0>
                     └ <aiogram.dispatcher.event.telegram.TelegramEventObserver object at 0x1120412d0>
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
                 │             │      └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │             └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ functools.partial(<bot.command.midleware.is_admin.IsAdmin object at 0x112c26690>, <function CallableObject.call at 0x112c97920>)

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/midleware/is_admin.py", line 17, in __call__
    return await handler(event, data)
                 │       │      └ {'dispatcher': <Dispatcher '0x112b82fd0'>, 'bots': (<aiogram.client.bot.Bot object at 0x112b72450>,), 'bot': <aiogram.client....
                 │       └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
                 └ <function CallableObject.call at 0x112c97920>

> File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
                 └ functools.partial(<function cmd_start at 0x112c1b420>, Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 4...

  File "/Users/karabok/Documents/Python/botAndruha/bot/command/user/start.py", line 40, in cmd_start
    await message.answer(text, reply_markup=main_kb(message))
          │       │      │                  │       └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...
          │       │      │                  └ <function main_kb at 0x11203e2a0>
          │       │      └ '\nЗдравствуйте! 👋 Добро пожаловать в автосервис "Профи"!\n\nМы рады предложить вам широкий спектр услуг по обслуживанию и ре...
          │       └ <function Message.answer at 0x10ff4a2a0>
          └ Message(message_id=12946, date=datetime.datetime(2024, 6, 19, 15, 7, 45, tzinfo=TzInfo(UTC)), chat=Chat(id=5840903752, type='...

  File "/Users/karabok/Documents/Python/botAndruha/bot/keyboards/reply.py", line 7, in main_kb
    kb = ReplyKeyboardMarkup()
         └ <class 'aiogram.types.reply_keyboard_markup.ReplyKeyboardMarkup'>

  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/pydantic/main.py", line 176, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
    │    │                      │               │                   └ ReplyKeyboardMarkup()
    │    │                      │               └ {}
    │    │                      └ <method 'validate_python' of 'pydantic_core._pydantic_core.SchemaValidator' objects>
    │    └ SchemaValidator(title="ReplyKeyboardMarkup", validator=Model(
    │          ModelValidator {
    │              revalidate: Never,
    │              validat...
    └ ReplyKeyboardMarkup()

pydantic_core._pydantic_core.ValidationError: 1 validation error for ReplyKeyboardMarkup
keyboard
  Field required [type=missing, input_value={}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.7/v/missing
2024-06-19T18:07:56.096461+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:09:36.593496+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:09:46.571305+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:10:06.016759+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:10:19.850878+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:12:01.720582+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:13:10.675960+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:19:32.086871+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:21:55.351306+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:22:02.922620+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:26:48.271033+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:26:56.302667+0300, INFO, main.py, main, 17, on_startup, Bot on
2024-06-19T18:51:54.966609+0300, DEBUG, new_car_state.py, new_car_state, 55, color, О999АО
2024-06-19T18:54:16.403508+0300, INFO, main.py, main, 29, on_shutdown, Bot off
2024-06-19T18:54:27.286304+0300, INFO, main.py, main, 17, on_startup, Bot on
